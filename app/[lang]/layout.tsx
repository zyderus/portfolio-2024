import './globals.css';
import type { Metadata } from 'next';
import { Inter } from 'next/font/google';
import { Locale } from '@/i18n.config';
import { themeFlashFix } from '@/lib/theme';
import Header from '@/components/layout/header';
import ApplyCssClasses from '@/components/layout/apply-css-classes';
import Footer from '@/components/layout/footer';

const inter = Inter({ subsets: ['latin'] });

// TODO: Add translations for metadata
export const metadata: Metadata = {
  title: 'Create Next App',
  description: 'Generated by create next app',
};

export interface PageProps {
  params: {
    lang: Locale;
  };
}

export default function RootLayout({
  children,
  params,
}: Readonly<
  {
    children: React.ReactNode;
  } & PageProps
>) {
  return (
    <html lang={params.lang} suppressHydrationWarning>
      <head>
        <script dangerouslySetInnerHTML={{ __html: themeFlashFix }}></script>
      </head>
      <body
        className={`min-h-screen grid grid-rows-[auto_1fr_auto] ${inter.className}`}
      >
        <ApplyCssClasses />
        <Header lang={params.lang} />
        <main>{children}</main>
        <Footer />
      </body>
    </html>
  );
}
